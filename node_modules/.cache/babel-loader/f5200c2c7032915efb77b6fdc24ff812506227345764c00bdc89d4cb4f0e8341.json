{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[selectedContainer,setSelectedContainer]=useState('');// Selected container name\nconst[results,setResults]=useState(null);// API results\nconst[errorResponse,setErrorResponse]=useState(null);// Error response\nconst fetchContainerData=async()=>{if(!selectedContainer){alert('Please select a repository first.');return;}try{const response=await axios.get(\"https://idr-testing.openmicroscopy.org/searchengine2/api/v1/resources/container_images/\",{params:{data_source:selectedContainer}// Use selectedContainer as data_source\n},{headers:{accept:'application/json','Content-Type':'application/json'}});setResults(response.data);// Assume the response is JSON data\nsetErrorResponse(null);// Clear any previous error response\n}catch(error){console.error('Error fetching container data:',error);setErrorResponse(error.response?error.response.data:{message:error.message});setResults(null);// Clear previous results\n}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',fontFamily:'Arial, sans-serif'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Container Data Viewer\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"container-select\",children:\"Select the data repository:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"container-select\",value:selectedContainer,onChange:e=>setSelectedContainer(e.target.value),style:{marginLeft:'10px',padding:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select the repository --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"idr\",children:\"idr\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ssbd\",children:\"ssbd\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bia\",children:\"bia\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:fetchContainerData,style:{padding:'10px 20px',backgroundColor:'#007BFF',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"Fetch Data\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Results:\"}),results&&/*#__PURE__*/_jsx(\"div\",{style:{background:'#f4f4f4',padding:'10px',borderRadius:'5px',overflowX:'auto'},children:/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(results,null,2)})}),errorResponse&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f8d7da',padding:'10px',borderRadius:'5px',overflowX:'auto',color:'#721c24'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Error:\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(errorResponse,null,2)})]}),!results&&!errorResponse&&/*#__PURE__*/_jsx(\"p\",{children:\"No data to display. Click \\\"Fetch Data\\\" after selecting a repository.\"})]})]});};export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","App","selectedContainer","setSelectedContainer","results","setResults","errorResponse","setErrorResponse","fetchContainerData","alert","response","get","params","data_source","headers","accept","data","error","console","message","style","padding","fontFamily","children","marginBottom","htmlFor","id","value","onChange","e","target","marginLeft","onClick","backgroundColor","color","border","borderRadius","cursor","background","overflowX","JSON","stringify"],"sources":["/Users/embl/PycharmProjects/GIDE/UIdataportal/container-viewer/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const [selectedContainer, setSelectedContainer] = useState(''); // Selected container name\n  const [results, setResults] = useState(null); // API results\n  const [errorResponse, setErrorResponse] = useState(null); // Error response\n\n  const fetchContainerData = async () => {\n    if (!selectedContainer) {\n      alert('Please select a repository first.');\n      return;\n    }\n\n    try {\n      const response = await axios.get(\n        `https://idr-testing.openmicroscopy.org/searchengine2/api/v1/resources/container_images/`,\n        {\n          params: { data_source: selectedContainer }, // Use selectedContainer as data_source\n        },\n        {\n          headers: {\n            accept: 'application/json',\n            'Content-Type': 'application/json',\n          },\n        }\n      );\n      setResults(response.data); // Assume the response is JSON data\n      setErrorResponse(null); // Clear any previous error response\n    } catch (error) {\n      console.error('Error fetching container data:', error);\n      setErrorResponse(error.response ? error.response.data : { message: error.message });\n      setResults(null); // Clear previous results\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>\n      <h1>Container Data Viewer</h1>\n\n      {/* Dropdown for container names */}\n      <div style={{ marginBottom: '20px' }}>\n        <label htmlFor=\"container-select\">Select the data repository:</label>\n        <select\n          id=\"container-select\"\n          value={selectedContainer}\n          onChange={(e) => setSelectedContainer(e.target.value)}\n          style={{ marginLeft: '10px', padding: '5px' }}\n        >\n          <option value=\"\">-- Select the repository --</option>\n          <option value=\"idr\">idr</option>\n          <option value=\"ssbd\">ssbd</option>\n          <option value=\"bia\">bia</option>\n        </select>\n      </div>\n\n      {/* Button to fetch data */}\n      <div style={{ marginBottom: '20px' }}>\n        <button\n          onClick={fetchContainerData}\n          style={{ padding: '10px 20px', backgroundColor: '#007BFF', color: 'white', border: 'none', borderRadius: '5px', cursor: 'pointer' }}\n        >\n          Fetch Data\n        </button>\n      </div>\n\n      {/* Display results or error */}\n      <div>\n        <h2>Results:</h2>\n        {results && (\n          <div style={{ background: '#f4f4f4', padding: '10px', borderRadius: '5px', overflowX: 'auto' }}>\n            <pre>{JSON.stringify(results, null, 2)}</pre>\n          </div>\n        )}\n        {errorResponse && (\n          <div style={{ background: '#f8d7da', padding: '10px', borderRadius: '5px', overflowX: 'auto', color: '#721c24' }}>\n            <h3>Error:</h3>\n            <pre>{JSON.stringify(errorResponse, null, 2)}</pre>\n          </div>\n        )}\n        {!results && !errorResponse && <p>No data to display. Click \"Fetch Data\" after selecting a repository.</p>}\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}